<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Render PDF as Images</title>

    <style>
        #container {
            width: 250px;
            height: 250px;
            border: 2px solid;
        }
    </style>
</head>
<body>

    <div id="container"></div>

    <script>
        (() => {

            

            var renderPdfAsImage = ( file, parentElementId ) => {

                const parentEl      = document.getElementById( parentElementId )
                const canvasWidth   = parentEl.offsetWidth
                const canvasHeight  = parentEl.offsetHeight

                var canvas      = document.createElement('canvas')
                parentEl.appendChild( canvas )
                var context     = canvas.getContext('2d')
                canvas.width    = canvasWidth
                canvas.height   = canvasHeight

                alert(canvasWidth)

            }

            renderPdfAsImage('', 'container')

        })()
    </script>

    <script src="//mozilla.github.io/pdf.js/build/pdf.mjs" type="module"></script>

    <script type="module">
        const url = 'https://ontheline.trincoll.edu/images/bookdown/sample-local-pdf.pdf'

        var { pdfjsLib } = globalThis
        pdfjsLib.GlobalWorkerOptions.workerSrc = '//mozilla.github.io/pdf.js/build/pdf.worker.mjs'

        var loadingTask = pdfjsLib.getDocument(url)

        loadingTask.promise.then(function(pdf) {
            // alert(pdf.numPages)
        })

    </script>

</body>
</html>